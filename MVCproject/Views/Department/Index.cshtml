@model IEnumerable<Department>;
@{
    Layout = "_Layout";
    ViewData["Title"] = "Index";
}

    <div class="d-grid gap-2  my-1">
        <a class="btn btn-primary" href="/department/create">Create Department</a>

    </div>
    <table class="table table-bordered table-hover">
        <thead>

        <tr>
            <td> ID</td>
            <td> NAME</td>
            <td>details</td>
            <td>Edit</td>
            <td>Delete</td>
        </tr>
        </thead>
        <tbody>
            @foreach(Department d in Model)
            {
                <tr>
                    <td>@d.DeptId</td>
                    <td>@d.DeptName</td>
                    <td>
                        <button class="btn btn-primary" onclick="display(@d.DeptId)">details on page</button>
                    </td>
                    <td>
                        <a asp-controller="department" asp-action="edit" asp-route-id="@d.DeptId" class="btn btn-success">Edit</a>
                    </td>
                    <td>
                        
                   <a asp-controller="department" asp-action="delete" asp-route-id="@d.DeptId" type="button"  class="btn btn-danger">Delete</a>

                       
                    </td>
                    <td>

                        <a asp-controller="departmentCourse" asp-action="showCourses" asp-route-id="@d.DeptId" class="btn btn-info">Show Courses</a>


                    </td>
                    <td>

						<a asp-controller="departmentCourse" asp-action="ManageCourses" asp-route-id="@d.DeptId" class="btn btn-info"> Manage Courses</a>


                    </td>
                </tr>
            }
        </tbody>
        

	</table>

    


	<div id="display">
	</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script>
        function display(id){
            $("#display").load("/department/details/"+id)
        }
    </script>
